{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}
{% import 'macros.html' as macros %}

{% block title %}
    Welcome
{% endblock title %}

{% block content %}

    {% if current_user.is_authenticated %}
    <div class="pt-1 bg-dark">    
        <div class="container mb-6">
            <div class="row">
                <div class="col-5">
                    <h1 class="text-light text-start fs-2 pt-1">
                        <i class="text-light bi bi-clipboard-check"></i>
                        To Do List
                    </h1>
                </div>
                <div class="col-5">
                    <h6 class="text-light text-end fs-4 pt-2">Welcome, {{username}} !</h6>
                </div>
                <div class="col-2">
                    <h6 class="text-light text-end fs-4 pt-2"">
                        <a class="text-reset text-decoration-none" 
                            href="{{url_for('auth.logout')}}">
                            Logout <i class="bi bi-box-arrow-right ms-2"></i>
                        </a>
                    </h6>
                </div>
            </div>
        </div>
    </div>

        <div class="container">
            <!--Create To Do-->
            <div class="row my-5">
                <h2>Create To Do</h2>
                {{ render_form(create_todo_form, action="/todo/create") }}
            </div>

            <!--My To Do list-->
            <div class="row my-5">
                <h2>To Do List</h2>
                <div>
                    <ul class="list-group">
                        {% for todo in todo_list %}
                        {{macros.render_todo(todo, done_todo_form, delete_todo_form)}}
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

    {% else %}
        <div class="row">
            <h1>To Do List</h1>
            <h1><a href="{{url_for('auth.login')}}">Login</a></h1>
            <h1><a href="{{url_for('auth.signup')}}">Don't have an account?: Singup</a></h1>
        </div>
    {% endif %}

{% endblock content %}